// Prisma Database Schema for Pandektes Legal Document Management System
// PostgreSQL database with AI-extracted metadata for legal documents

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

generator client {
    provider = "prisma-client-js"
}

// Legal document with AI-extracted metadata
model Document {
    id         Int       @id @default(autoincrement())
    fileName   String // Original uploaded filename
    title      String? // AI-extracted document title
    date       DateTime? // AI-extracted document date (filing, judgment, etc.)
    court      String? // AI-extracted court or jurisdiction
    caseNumber String? // AI-extracted case or docket number
    summary    String? // AI-generated document summary
    // High-level classification
    caseType   String? // e.g., civil, injunction, administrative, bankruptcy, human rights
    area       String? // e.g., produktansvar, milj√∏ret, state aid, lejeret, konkursret, freedom of expression, forsikringsret, patentret

    // Area-specific details (flexible key/value JSON data, e.g., compensation, patentNumber, costs, debtAmount)
    areaData Json?

    // Additional metadata and raw AI output
    metadata  Json?
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
}
